(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){"use strict";var r=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API:"http://localhost:4000/graphql",REACT_APP_API_WS:"ws://localhost:4000/graphql"}),a=n(20),c=function(e){return function(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(t,n)}}},u=(c(a.d),c(a.c)),o=(c(a.b),c(a.a),n(48)),i=n(49),s=(new(function(){function e(t){Object(o.a)(this,e),this.storage=t}return Object(i.a)(e,[{key:"get",value:function(e){return this.storage.getItem(e)}},{key:"set",value:function(e,t){return this.storage.setItem(e,t)}},{key:"remove",value:function(e){return this.storage.removeItem(e)}},{key:"clear",value:function(){this.storage.clear()}},{key:"key",value:function(e){return this.storage.key(e)}},{key:"length",get:function(){return this.storage.length}}]),e}())(localStorage),n(0)),l=n(50),f=n.n(l),d=n(24),v=n(17),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.a.GUEST,t=Object(d.b)(),n=t.isLoaded,r=t.hasPermission,a=t.define;Object(s.useEffect)(function(){var t=f()(v.a.GUEST,e);a(t)},[]);return{isLoaded:n,hasAccess:function(){return r.apply(void 0,arguments)}}};n.d(t,"a",function(){return r}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return m})},17:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"USERS",function(){return i});var a={};n.r(a),n.d(a,"GUEST",function(){return s});var c=n(26),u=n(51);function o(){var e=Object(c.a)(["\n  query {\n    users(offset: 0, limit: 10) {\n      docs {\n        id\n        username\n        email\n      }\n    }\n  }\n"]);return o=function(){return e},e}var i=n.n(u)()(o()),s=(n(41),{permissions:{"users:read":!0}}),l={TOKEN:"token"};n.d(t,"b",function(){return l}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return a})},39:function(e,t){},40:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(16),a=n(17),c=Object(r.b)(a.c.USERS)},41:function(e,t){},44:function(e,t,n){"use strict";var r=n(39);n.o(r,"getUsers")&&n.d(t,"getUsers",function(){return r.getUsers});var a=n(40);n.d(t,"getUsers",function(){return a.a})},64:function(e,t,n){e.exports=n(85)},85:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"COLORS",function(){return y}),n.d(r,"SIZE",function(){return j});var a=n(0),c=n.n(a),u=n(42),o=n.n(u),i=n(43),s=n(28),l=n(24),f=n(8),d=n(54),v=n(14),m=n(44),g=n(16),b=n(26);function p(){var e=Object(b.a)(["\n  font-size: 2rem;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: bold;\n"]);return p=function(){return e},e}var h=s.b.div(p()),O=function(){var e=Object(m.getUsers)(),t=e.data,n=e.loading,r=e.error,a=Object(g.c)({permissions:{"go:read":!0,"users:read":!0}}),u=a.isLoaded;if(!(0,a.hasAccess)("users:read"))return c.a.createElement("div",null,"No access...");if(n&&u)return c.a.createElement("div",null,"Loading...");if(r)return c.a.createElement(h,null,"Server is not available");var o=t.users.docs.map(function(e){var t=e.username,n=e.email,r=e.id;return c.a.createElement("div",{key:r},c.a.createElement("h2",null,t),c.a.createElement("h4",null,n))});return c.a.createElement("div",null,o)},E=function(){return c.a.createElement(d.a,null,c.a.createElement(v.c,null,c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{exact:!0,path:"/",component:O}))))},y={},j={},P=n(57),w=n(9),S=n(60),k=n(15),A=n(61),U=n(59),_=n(58),I=n(2),T=n(17);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach(function(t){Object(P.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var C=g.a.REACT_APP_API,D=g.a.REACT_APP_API_WS,N=new A.a({uri:C}),q=new _.a({uri:D,options:{reconnect:!0}}),x=Object(U.a)(function(e,t){var n=t.headers,r=localStorage.getItem(T.b.TOKEN);return{headers:L({},n,{authorization:r?"Bearer ".concat(r):""})}}),B=Object(w.d)(function(e){var t=e.query,n=Object(I.l)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation},q,N),G=x.concat(B),z=new S.a,J=new k.a({link:G,cache:z}),K={permissions:{"users:read":!0}},W=function(){return c.a.createElement(f.a,{client:J},c.a.createElement(s.a,{theme:r},c.a.createElement(l.a,{value:K},c.a.createElement(E,null))))};n(83);o.a.render(c.a.createElement(W,null),document.getElementById("root")),i.install()}},[[64,1,2]]]);
//# sourceMappingURL=main.c3e21ed3.chunk.js.map